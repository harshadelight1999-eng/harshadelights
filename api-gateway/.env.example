# =====================================================================================
# HARSHA DELIGHTS API GATEWAY - ENVIRONMENT CONFIGURATION
# =====================================================================================

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
APP_NAME=Harsha Delights API Gateway
APP_VERSION=1.0.0

# Database Configuration - PostgreSQL (API Gateway Database)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=harsha_delights_gateway
DB_USER=postgres
DB_PASS=your_password
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_SSL=false

# Sync Database Configuration - PostgreSQL
SYNC_DB_HOST=localhost
SYNC_DB_PORT=5432
SYNC_DB_NAME=harsha_delights_sync
SYNC_DB_USER=postgres
SYNC_DB_PASS=your_password

# ERPNext Database Configuration - MariaDB
ERPNEXT_DB_HOST=localhost
ERPNEXT_DB_PORT=3306
ERPNEXT_DB_NAME=erpnext_hd
ERPNEXT_DB_USER=root
ERPNEXT_DB_PASS=your_password

# Redis Configuration (for caching and rate limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CLUSTER_MODE=false

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_REFRESH_SECRET=your_super_secret_refresh_key_change_this_in_production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=harsha-delights-api-gateway

# API Key Configuration
API_KEY_SECRET=your_api_key_encryption_secret_change_this
API_KEY_PREFIX=hd_
API_KEY_LENGTH=32

# Two-Factor Authentication
TOTP_SERVICE_NAME=Harsha Delights
TOTP_ISSUER=Harsha Delights API Gateway
TOTP_WINDOW=2

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_BASIC_RPM=30
RATE_LIMIT_STANDARD_RPM=100
RATE_LIMIT_PREMIUM_RPM=500
RATE_LIMIT_UNLIMITED_RPM=0

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true

# External Service URLs
ERPNEXT_BASE_URL=http://localhost:8000
ERPNEXT_API_KEY=your_erpnext_api_key
ERPNEXT_API_SECRET=your_erpnext_api_secret

MEDUSA_BASE_URL=http://localhost:9000
MEDUSA_API_KEY=your_medusa_api_key

ESPOCRM_BASE_URL=http://localhost:8080
ESPOCRM_API_KEY=your_espocrm_api_key

# Monitoring and Logging
LOG_LEVEL=info
LOG_FILE_PATH=./logs/api-gateway.log
LOG_MAX_FILE_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# Security Configuration
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_TIME=1800000

# Session Configuration
SESSION_SECRET=your_session_secret_change_this
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf
UPLOAD_DEST=./uploads

# Circuit Breaker Configuration
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_ERROR_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# Swagger/API Documentation
SWAGGER_ENABLED=true
SWAGGER_HOST=localhost:3000
SWAGGER_BASE_PATH=/api/v1

# Email Configuration (for notifications)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=noreply@harshadelights.com

# Webhook Configuration
WEBHOOK_SECRET=your_webhook_secret_for_verification
WEBHOOK_TIMEOUT=10000

# Metrics and Analytics
METRICS_ENABLED=true
METRICS_INTERVAL=60000
ANALYTICS_ENABLED=true